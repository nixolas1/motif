todo:

ok 1. graphical connect input to object
1.5 prepare normalize and smooth for usage
2. connect effect to input
3. frontend it
ok 7. re-arrange and remove added stuff
4. make more objects and inputs

6. ???
8. save/restore localstorage functionality
10. optimize








ok1. add object to scene by clicking
ok2. sync with options
ok3. inputs


            /*p.clear();
            var rms = analyzer.getLevel();


            // Draw an ellipse with size based on volume
            p.ellipse(p.width/2-150, p.height/2, 10+rms*300, 10+rms*300);


            var spectrum = fft.analyze();

            peakDetect.update(fft);

            if ( peakDetect.isDetected ) {
                ellipseWidth = 50;
            } else {
                ellipseWidth *= 0.95;
            }

            p.ellipse(p.width/2, p.height/2, ellipseWidth, ellipseWidth);

            p.beginShape();
            p.vertex(0, p.height);
            var len = spectrum.length-vertexSize;
            for (i = 0; i<len; i+=vertexSize) {
             p.vertex(i, p.map(spectrum[i], 0, 255, p.height, 0) );
            }
            p.vertex(p.width, p.height);
            p.endShape();*/



    /*

 element: {
        name: "element",
        add: function(prop){
            return null;
        },
        draw: function(p5){

        },
        instance: null,
        props: {
            x: {value: 0, min: -100, max: 100},
        },
        inputs: {

        }
    },

*/


for effect in effects:
    for affect in effeect.affected:
        affect += output;


        <div class="input-field col s12" >
          <select multiple ng-model="open.affected">
            <optgroup label="{{object.name+' '+$index}}" ng-repeat="object in scene.objects">
              <option value="{{prop}}" ng-repeat="(name, prop) in object.props">{{name}}</option>
            </optgroup>
          </select>
          <label>Connections</label>
        </div>


        <subnav title="inName" ng-repeat="(inName, input) in scene.inputs">
                       <subnav title="obName" ng-repeat="(obName, object) in scene.objects">
                            <a href
                                ng-repeat="(prName, prop) in object.props"
                                ng-click="addConnection(input, output, prop, obName+'.'+prop)"
                                class="waves-effect waves-teal">
                                {{prName}}
                            </a>
                            dropdown instead!
                       </subnav>
                    </subnav>
